<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-button (click)="regresar()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Resumen {{tipo}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ng-container *ngIf="tipo === 'ventas'; else elseTemplate">
        <ion-list>
            <ion-item *ngFor="let item of ventas">
                <ion-label class="ion-text-wrap">
                    <h2 style="color: var(--ion-color-primary);">{{item.Datos.direccion}}</h2>
                    <h3>Hora: {{item.Datos.hora | date: 'shortTime'}}</h3>
                    <h5>Id: {{item.Datos.id}}</h5>
                    <p>Venta: {{item.Datos.total | currency:'CAD':'symbol-narrow':'1.0-2'}}</p>
                    <p *ngFor="let prod of item.Productos | keyvalue">
                        {{prod.key}}: {{prod.value}}
                    </p>
                </ion-label>
            </ion-item>
        </ion-list>
    </ng-container>
    <ng-template #elseTemplate>
        <ion-list>
            <ion-item *ngFor="let item of compras">
                <ion-label class="ion-text-wrap">
                    <h2 style="color: var(--ion-color-primary);">{{item.nombre}}</h2>
                    <h3>Total: {{item.total | currency:'CAD':'symbol-narrow':'1.0-2'}}</h3>
                    <p>Proveedor: {{item.proveedor}}</p>
                    <p>{{item.descripcion}}</p>
                </ion-label>
            </ion-item>
        </ion-list>
    </ng-template>

    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
        <ion-infinite-scroll-content loadingSpinner="bubbles">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>

</ion-content>